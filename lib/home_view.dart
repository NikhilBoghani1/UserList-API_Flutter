import 'dart:convert';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:http/http.dart' as http;import 'package:yt_api_call/user_d.dart';class HomeScreen extends StatefulWidget {  const HomeScreen({super.key});  @override  State<HomeScreen> createState() => _HomeScreenState();}class _HomeScreenState extends State<HomeScreen> {  List<dynamic> users = [];  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        centerTitle: true,        title: Text(          'Rest API Call',          style: TextStyle(            fontFamily: "PlusB",          ),        ),      ),      body: RefreshIndicator(          onRefresh: () async {            print("fetchUsers called");            const url = "https://randomuser.me/api/?results=50";            final uri = Uri.parse(url);            final response = await http.get(uri);            final body = response.body;            final json = jsonDecode(body);            setState(() {              users = json['results'];            });            print('fetchUser completed');          },          child: ListView.builder(            itemCount: users.length,            itemBuilder: (context, index) {              final user = users[index];              final email = user['email'];              final gender = user['gender'];              final name = user["name"]['first'];              final picture = user["picture"]['medium'];              /*final login = user["login"]['username'];*/              return InkWell(                onTap: () {                  Navigator.push(                    context,                    MaterialPageRoute(                      builder: (context) => UserD(user),                    ),                  );                },                child: ListTile(                  /*  leading: CircleAvatar(              child: Text('${index + 1}'),            ),*/                  leading: CircleAvatar(                    foregroundImage: NetworkImage(picture),                  ),                  title: Text(                    name,                    style: TextStyle(                      fontFamily: "PlusSB",                    ),                  ),                  subtitle: Text(                    email,                    style: TextStyle(                      fontFamily: "PlusSB",                    ),                  ),                ),              );            },          )),      floatingActionButton: FloatingActionButton(        onPressed: fetchUsers,        child: Icon(CupertinoIcons.refresh_bold),      ),    );  }  Future<void> fetchUsers() async {    print("fetchUsers called");    const url = "https://randomuser.me/api/?results=50";    final uri = Uri.parse(url);    final response = await http.get(uri);    final body = response.body;    final json = jsonDecode(body);    setState(() {      users = json['results'];    });    print('fetchUser completed');  }}